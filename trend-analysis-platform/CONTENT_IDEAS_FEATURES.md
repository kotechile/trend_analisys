# Content Ideas Management Features

## Overview
The Idea Burst tab now includes comprehensive content ideas management with Supabase persistence.

## Features Implemented

### 1. Research Topic Management
- **Clear Ideas on Topic Change**: When you change the research topic, all existing ideas are cleared and new ideas for that topic are loaded
- **Load Existing Ideas**: Automatically loads previously saved ideas for the selected research topic
- **Topic Dropdown**: Select from the last 10 research topics

### 2. Content Ideas Generation
- **Add New Ideas to Beginning**: New generated ideas are added to the beginning of the list (most recent first)
- **AI-Powered Generation**: Uses improved LLM prompts for higher quality, specific content ideas
- **Fallback Generation**: If AI generation fails, falls back to mock generation

### 3. Individual Idea Management
- **Delete Ideas**: Each content idea has a delete button (üóëÔ∏è) to remove it
- **Real-time Updates**: Changes are immediately reflected in the UI
- **Confirmation Feedback**: Success/error messages via snackbar notifications

### 4. Supabase Persistence
- **Automatic Saving**: All changes are automatically saved to Supabase
- **Research-based Storage**: Ideas are stored per research topic
- **CRUD Operations**: Full Create, Read, Update, Delete functionality

## Backend API Endpoints

### GET `/api/content-ideas/{research_id}`
Get all content ideas for a specific research topic.

**Response:**
```json
{
  "success": true,
  "ideas": [...],
  "research_id": "research_123",
  "count": 5
}
```

### POST `/api/content-ideas`
Save content ideas for a research topic.

**Request Body:**
```json
{
  "research_id": "research_123",
  "ideas": [...]
}
```

### DELETE `/api/content-ideas/{idea_id}`
Delete a specific content idea.

**Response:**
```json
{
  "success": true,
  "message": "Content idea deleted successfully",
  "idea_id": "idea_123"
}
```

### PUT `/api/content-ideas/{idea_id}`
Update a specific content idea.

**Request Body:**
```json
{
  "title": "Updated Title",
  "description": "Updated description",
  ...
}
```

## Database Schema

### content_ideas Table
```sql
CREATE TABLE content_ideas (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    research_id VARCHAR(255) NOT NULL,
    ideas JSONB NOT NULL DEFAULT '[]'::jsonb,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    UNIQUE(research_id)
);
```

## Setup Instructions

1. **Create the Database Table:**
   ```bash
   cd trend-analysis-platform
   python create-content-ideas-table.py
   ```

2. **Start the Backend:**
   ```bash
   cd backend
   python -m uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
   ```

3. **Start the Frontend:**
   ```bash
   cd frontend
   npm run dev
   ```

## Usage Flow

1. **Select Research Topic**: Choose from the dropdown or use current research
2. **View Existing Ideas**: Previously saved ideas are automatically loaded
3. **Generate New Ideas**: Click "ü§ñ Generate AI Content Ideas" to add new ideas
4. **Manage Ideas**: Delete unwanted ideas using the üóëÔ∏è button
5. **Automatic Saving**: All changes are saved to Supabase automatically

## Key Benefits

- **Persistent Storage**: Ideas are saved and persist across sessions
- **Topic-based Organization**: Each research topic maintains its own set of ideas
- **User-friendly Management**: Easy to add, view, and delete ideas
- **Real-time Updates**: Changes are immediately visible and saved
- **AI-Powered Quality**: High-quality, specific content ideas generated by LLM

## Error Handling

- **Network Errors**: Graceful fallback to mock generation
- **API Failures**: User-friendly error messages
- **Validation**: Input validation and error feedback
- **Recovery**: Automatic retry mechanisms for failed operations

